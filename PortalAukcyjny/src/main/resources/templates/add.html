<html layout:decorator="layout">

   <div layout:fragment="content">
       <h2>Add offer</h2>
       <form class="form form--half" action="/add" method="post" enctype="multipart/form-data">
           <div class="form__group">
               <label>Name:</label>
               <input type="text" name="name" required="required"/>
               <span class="form__error"></span>
           </div>
           <div class="form__group">
               <label>Photo:</label>
               <div class="file-wrapper">
                   <div class="file-wrapper__preview"><img id="preview" style="max-width: 100%;"/></div>
                   <div class="file-wrapper__btn">
                       <input type="file" name="file" required="required"/>
                       <button class="btn">Wczytaj</button>
                   </div>
               </div>
               <span class="form__error"></span>
           </div>
           <div class="form__group">
               <label>Min. price:</label>
               <input type="number" name="price" required="required"/>
               <span class="form__error"></span>
           </div>
           <div class="form__group">
               <label>Description:</label>
               <textarea name="desc" required="required"></textarea>
               <span class="form__error"></span>
           </div>
           <input type="submit" class="btn" name="submit" value="Add product"/>
       </form>
       
       <script type="text/javascript">
	    document.querySelector('input[type="file"]').addEventListener('change', function(){
	        var file = this.files[0];
	        var preview = document.getElementById('preview');
	        var reader  = new FileReader();
	        reader.addEventListener("load", function () {
	            preview.src = reader.result;
	        }, false);
	
	        if (file) reader.readAsDataURL(file);
	    })
	</script>
   </div>
   
</html>
